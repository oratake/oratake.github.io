<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0064)http://staff.miyakyo-u.ac.jp/~ugawa/handbell/MosionSound/do.html -->
<html manifest="manifest.appcache"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Expires" content="0">
		<meta name="viewport" content="initial-scale=1.0,user-scalable=no">
		<title>スマホでハンドベル</title>
		<style type="text/css">
			body {-webkit-touch-callout:none; -webkit-user-select:none; -moz-user-select:none;}
			ol {padding-left: 1em;}
			li {font-size:80%;padding:0;}
			input {background-color:silver; width:100px; height:100px;}
		</style>
		<script>
			window.addEventListener('deviceorientation', function(K1) {
				katamuki=K1.beta+K1.gamma;
				if (katamuki >10) {
					if (katamuki < 50) {
						audio1.play();
					}else{
						audio1.pause();
						audio1.currentTime = 0;
					}
					basho1.innerHTML = "傾き:"+Math.round(katamuki);
				}
			}, true);
			window.addEventListener("touchstart", function(E1){
				audio1.play();
				basho1.innerHTML = "Play";
			}, true);
			window.addEventListener("touchend", function(E1){
				audio1.pause();
				audio1.currentTime = 0;
				basho1.innerHTML = "Stop";
			}, true);
		</script>
	<style></style></head>
	<body>
		<p>スマホでハンドベル</p>
		<ol>
			<li>机の上などに置き再生ボタンを「押し続けている間」鳴り、離すと止まります。</li>
			<li>手に持った状態で、傾きの数値が低くなると鳴り、戻すと止まります。</li>
			<li>鳴らない時：マナーモードの解除、音量調整、スリープしない設定、画面の自動回転機能の停止が必要な場合があります。</li>
			<li>音程を替えるには、ブラウザの戻るボタンを押します。 </li>
		</ol>
		<div align="center">
		<input type="button" id="play1" value="再生" style="">
		</div>
		<div id="basho1">
		</div>
		<audio id="audio1" preload="auto">
			<source src="do.mp3" type="audio/mp3">
			<source src="do.wav" type="audio/wav">
			<source src="do.ogg" type="audio/ogg">
			<p>この端末では動作しません。</p>
		</audio>
		<p><img src="./スマホでハンドベル_files/QRcode.gif" width="98" height="98" alt="qr">
		<img src="./スマホでハンドベル_files/handbell_woman.png" alt="handbell" width="100" height="100"></p>
	

<!---

		<p><img src="../QRcode.gif" width="98" height="98" alt="qr">
		<img src="../handbell_woman.png" alt="handbell" width="100" height="100"></p>
		
参考サイト
http://dev.classmethod.jp/smartphone/mobile-html5/
http://yume.hacca.jp/koiki/form/button-color.htm

		<p><img src="../QRcode.gif" width="98" height="98" alt="qr">
		<img src="../handbell_woman.png" alt="handbell" width="100" height="100"></p>
		
		
使われていないコード
				basho1.innerHTML = "傾き:"+Math.round(k.beta)+"+"+Math.round(k.gamma)+"="+Math.round(katamuki);

			window.addEventListener('deviceorientation', function(k) {
				katamuki=k.beta-k.gamma;
				if (k.beta >5) {
					if (k.beta < 50) {
						audio1.play();
					}else{
						audio1.pause();
						audio1.currentTime = 0;
					}
					basho1.innerHTML = "傾き:"+ Math.round(k.beta)+","+ Math.round(k.gamma);
				}
			}, true);
			
---><div style="background-color: rgb(255, 143, 0); display: none; color: white; text-align: center; position: fixed; top: 0px; left: 0px; width: 100%; height: auto; min-width: 100%; min-height: auto; max-width: 100%; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, Geneva, sans-serif; cursor: pointer; padding: 5px;"><span style="color: white; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, Geneva, sans-serif;">段落プレーヤーを無効にしました。オプションページから再度有効にできます。</span><img src="chrome-extension://gfjopfpjmkcfgjpogepmdjmcnihfpokn/img/icons/icon-close_16.png" style="width: 20px; height: auto; min-width: 20px; min-height: auto; max-width: 20px; float: right; margin-right: 10px;"></div></body><autoscroll></autoscroll></html>